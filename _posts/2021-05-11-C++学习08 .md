---
layout: post
title: 'C++学习01 '
date: 2021-05-11
categories: 技术
tags: 学习 C++ 实例化 堆栈 new 
---


#### 类的实例化

Person类存在；且存在自定义有参构造函数。

| 实例化方式 | 内存空间 | 形式                                                    |      |
| ---------- | -------- | ------------------------------------------------------- | ---- |
| 隐式创建   | 栈       | Person p1; Person p1(2);                                |      |
| 显式创建   | 栈       | Person p1 = Person ;Person p1 = Person(2);              |      |
| new创建    | 堆       | Person *p1  = new Person ; Person *p1  = new Person(2); |      |
|            |          |                                                         |      |

三种方式，实质上，只有两点区别：

- **栈区**内存，由**系统控制**，函数内局部变量的存储单元可以在栈上创建，**函数执行完毕**，系统会**自动释放**这些存储单元。
- **堆区**是由**用户申请的内存**，堆上的内存分配（new/malloc），亦称动态内存分配。这部分内存**由程序员自己负责管理**，其生存期由开发者决定:在何时分配，分配多少，并在何时用free/delete来释放该内存。

可以与析构函数一节联系结合看，后续会有包括new/delete,malloc/free这两对的区别。



