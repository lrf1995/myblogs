---
layout: post
title: 'C++学习12'
date: 2021-06-02
categories: 技术
tags: 学习 C++ 继承 
--- 


### 继承

定义某些类时，下级别的成员除了拥有上一级的共性，还有自己的特性。可以考虑利用继承的技术，减少重复代码。

#### 继承方式：

`class A : public B;` 

A 类称为子类 或 派生类

B 类称为父类 或 基类

**派生类中的成员，包含两大部分**：

一类是从基类继承过来的，一类是自己增加的成员。

从基类继承过过来的表现其共性，而新增的成员体现了其个性。

继承的语法：`class 子类 : 继承方式  父类`

**继承方式一共有三种：**

* 公共继承
* 保护继承
* 私有继承

不同的继承方式，导致继承过来的成员属性不同public/protected/private，成员的不同属性的权限详见：

[C++学习03]: https://lrf1995.github.io/myblogs/2021/05/01/C++%E5%AD%A6%E4%B9%A003.html

***注：***三种继承方式，都会将父类中所有的成员传递到子类，但是子类~~***无法访问父类的私有成员***~~，私有成员只是被隐藏了，但是还是会继承下去，还是<u>***会占据相应空间***</u>。

| 基类成员性质 | 继承方式  |   子类属性   |
| :----------: | :-------: | :----------: |
|    public    |  public   |    public    |
|    public    | protected |  protected   |
|    public    |  private  |   private    |
|  protected   |  public   |  protected   |
|  protected   | protected |  protected   |
|  protected   |  private  |   private    |
|   private    |  public   | 子类无权访问 |
|   private    | protected | 子类无权访问 |
|   private    |  private  | 子类无权访问 |

***注：*****由以上组合结果可以看出，protected继承和private继承能降低访问权限：**

1. public继承不改变基类成员的访问权限
2. private继承使得基类所有成员在子类中的访问权限变为private
3. protected继承将基类中public成员变为子类的protected成员，其它成员的访问 权限不变。
4. 基类中的private成员不受继承方式的影响，子类永远无权访问





#### 继承中的构造和析构顺序

***继承中先调用父类构造函数，再调用子类构造函数，析构顺序与构造相反***

#### 继承同名成员处理方式

父类和子类出现同名成员/方法。

同名成员

* 访问子类同名成员   直接访问即可
* 访问父类同名成员   需要加作用域

当子类与父类拥有同名的成员函数，子类会隐藏父类中同名成员函数，加作用域可以访问到父类中同名函数，父类中的重载同名函数，也需要加入作用域才可以访问。